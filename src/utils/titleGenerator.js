// Шаблоны заголовков по категориям
const titleTemplates = {
  politics: [
    "СРОЧНО: [PERSON] [VERB] [OBJECT] в ходе [EVENT]",
    "[COUNTRY] [VERB] новые санкции против [COUNTRY]",
    "[PERSON] объявил о [POLICY] во время [EVENT]",
    "Парламент [COUNTRY] принял закон о [POLICY]",
    "Переговоры между [COUNTRY] и [COUNTRY] [RESULT]",
    "[PERSON] выступил с критикой [POLICY]",
    "Новый политический союз между [COUNTRY] и [COUNTRY]",
    "[PERSON] победил на выборах в [COUNTRY]",
    "Протесты в [COUNTRY] из-за [POLICY]",
    "Дипломатический скандал между [COUNTRY] и [COUNTRY]"
  ],
  technology: [
    "[COMPANY] представила новый [PRODUCT]",
    "Ученые разработали [TECHNOLOGY] для [PURPOSE]",
    "Прорыв в области [FIELD]: [DISCOVERY]",
    "[COMPANY] инвестирует в [TECHNOLOGY]",
    "Новое исследование показало опасность [TECHNOLOGY]",
    "[PRODUCT] бьет рекорды продаж",
    "Хакеры взломали [SYSTEM] с помощью [TECHNOLOGY]",
    "Эксперты предупреждают о рисках [TECHNOLOGY]",
    "Новый [PRODUCT] изменит [INDUSTRY]",
    "[COMPANY] патентует революционную [TECHNOLOGY]"
  ],
  sports: [
    "[TEAM] одержала победу над [TEAM] со счетом [SCORE]",
    "[ATHLETE] установил новый рекорд в [SPORT]",
    "[TEAM] выиграла чемпионат по [SPORT]",
    "[ATHLETE] объявил о завершении карьеры",
    "Скандал в мире [SPORT]: [EVENT]",
    "[ATHLETE] получил травму во время [EVENT]",
    "[TEAM] подписала контракт с [ATHLETE]",
    "Новый тренер [TEAM]: [PERSON]",
    "[ATHLETE] дисквалифицирован за [VIOLATION]",
    "Сенсация на турнире по [SPORT]: [EVENT]"
  ],
  entertainment: [
    "Новый фильм [DIRECTOR] бьет рекорды проката",
    "[CELEBRITY] получил премию за роль в [MOVIE]",
    "[BAND] анонсировала новый альбом",
    "[CELEBRITY] и [CELEBRITY] расстались после [TIME]",
    "Скандал на съемках [MOVIE]: [EVENT]",
    "[CELEBRITY] сыграет главную роль в [MOVIE]",
    "Новый сезон [SHOW] выйдет [DATE]",
    "[CELEBRITY] запускает собственный [PRODUCT]",
    "Фестиваль [EVENT] объявил программу на [YEAR]",
    "[MOVIE] получил главный приз на [FESTIVAL]"
  ]
};

// Словари для замены плейсхолдеров
const dictionaries = {
  PERSON: [
    "Президент", "Премьер-министр", "Министр", "Депутат", "Сенатор", 
    "Губернатор", "Мэр", "Дипломат", "Политик", "Оппозиционер",
    "Иван Петров", "Алексей Смирнов", "Сергей Иванов", "Дмитрий Козлов", 
    "Михаил Соколов", "Андрей Волков", "Владимир Новиков", "Николай Морозов"
  ],
  COUNTRY: [
    "Россия", "США", "Китай", "Германия", "Франция", "Великобритания", 
    "Япония", "Индия", "Бразилия", "Канада", "Австралия", "Италия", 
    "Испания", "Мексика", "Южная Корея", "Турция", "Швеция", "Норвегия"
  ],
  VERB: [
    "объявил", "ввел", "отменил", "подписал", "утвердил", "раскритиковал", 
    "поддержал", "отверг", "предложил", "одобрил", "осудил", "анонсировал", 
    "представил", "обсудил", "согласовал", "опроверг", "подтвердил"
  ],
  OBJECT: [
    "указ", "закон", "постановление", "решение", "инициативу", "программу", 
    "реформу", "проект", "соглашение", "договор", "меморандум", "пакт", 
    "альянс", "коалицию", "стратегию", "план", "концепцию", "доктрину"
  ],
  EVENT: [
    "пресс-конференции", "саммита", "форума", "встречи", "переговоров", 
    "дебатов", "заседания", "совещания", "конгресса", "симпозиума", 
    "конференции", "брифинга", "интервью", "выступления", "визита"
  ],
  POLICY: [
    "налоговой реформе", "социальной поддержке", "экономическом развитии", 
    "национальной безопасности", "здравоохранении", "образовании", 
    "экологической политике", "цифровизации", "миграционной политике", 
    "внешней политике", "оборонной стратегии", "борьбе с коррупцией"
  ],
  RESULT: [
    "завершились успехом", "зашли в тупик", "привели к соглашению", 
    "были прерваны", "продолжатся завтра", "дали неожиданные результаты", 
    "вызвали скандал", "закончились подписанием договора", 
    "не принесли результатов", "будут продолжены"
  ],
  COMPANY: [
    "Apple", "Google", "Microsoft", "Amazon", "Tesla", "Samsung", "Huawei", 
    "Sony", "Intel", "AMD", "Nvidia", "Facebook", "Twitter", "Яндекс", 
    "ВКонтакте", "Mail.ru", "Сбербанк", "Газпром", "Роснефть", "Ростех"
  ],
  PRODUCT: [
    "смартфон", "планшет", "ноутбук", "умные часы", "телевизор", 
    "автомобиль", "робот", "дрон", "гаджет", "приложение", "сервис", 
    "устройство", "программу", "систему", "платформу", "технологию"
  ],
  TECHNOLOGY: [
    "искусственный интеллект", "нейросеть", "блокчейн", "квантовый компьютер", 
    "виртуальная реальность", "дополненная реальность", "5G", "6G", 
    "робототехника", "биотехнология", "нанотехнология", "3D-печать", 
    "беспилотные автомобили", "умный дом", "интернет вещей"
  ],
  PURPOSE: [
    "медицины", "образования", "безопасности", "транспорта", "связи", 
    "развлечений", "бизнеса", "промышленности", "сельского хозяйства", 
    "экологии", "космических исследований", "военных нужд", "повседневной жизни"
  ],
  FIELD: [
    "медицины", "физики", "химии", "биологии", "астрономии", "информатики", 
    "робототехники", "энергетики", "материаловедения", "генетики", 
    "нейробиологии", "квантовой физики", "искусственного интеллекта"
  ],
  DISCOVERY: [
    "новый метод лечения", "революционный материал", "уникальный алгоритм", 
    "неизвестная частица", "новый вид энергии", "прорывная технология", 
    "неизвестное ранее явление", "новый химический элемент", 
    "революционный препарат", "уникальное устройство"
  ],
  SYSTEM: [
    "банковскую систему", "правительственные серверы", "корпоративную сеть", 
    "систему безопасности", "базу данных", "облачное хранилище", 
    "социальную сеть", "мессенджер", "платежную систему", "биометрическую систему"
  ],
  INDUSTRY: [
    "медицину", "образование", "транспорт", "связь", "развлечения", 
    "бизнес", "промышленность", "сельское хозяйство", "строительство", 
    "энергетику", "финансы", "торговлю", "туризм"
  ],
  TEAM: [
    "Спартак", "ЦСКА", "Зенит", "Локомотив", "Динамо", "Барселона", 
    "Реал Мадрид", "Манчестер Юнайтед", "Ливерпуль", "Бавария", 
    "ПСЖ", "Ювентус", "Челси", "Арсенал", "Милан", "Интер"
  ],
  ATHLETE: [
    "Лионель Месси", "Криштиану Роналду", "Леброн Джеймс", "Рафаэль Надаль", 
    "Новак Джокович", "Усэйн Болт", "Майкл Фелпс", "Конор Макгрегор", 
    "Хабиб Нурмагомедов", "Александр Овечкин", "Мария Шарапова", 
    "Серена Уильямс", "Симона Байлз", "Федор Емельяненко"
  ],
  SPORT: [
    "футболу", "баскетболу", "теннису", "хоккею", "волейболу", "бейсболу", 
    "гольфу", "боксу", "MMA", "легкой атлетике", "плаванию", "гимнастике", 
    "лыжному спорту", "фигурному катанию", "биатлону"
  ],
  SCORE: [
    "2:1", "3:0", "1:0", "2:2", "4:3", "5:2", "3:1", "2:0", "1:1", "3:2", 
    "4:1", "5:0", "6:1", "7:0", "4:4", "5:3", "6:2", "7:1"
  ],
  VIOLATION: [
    "допинг", "нарушение правил", "неспортивное поведение", "драку", 
    "оскорбление судьи", "договорной матч", "нарушение контракта", 
    "нарушение режима", "финансовые махинации", "обман"
  ],
  DIRECTOR: [
    "Кристофера Нолана", "Стивена Спилберга", "Мартина Скорсезе", 
    "Квентина Тарантино", "Джеймса Кэмерона", "Тима Бертона", 
    "Гильермо дель Торо", "Дени Вильнёва", "Федора Бондарчука", 
    "Никиты Михалкова", "Андрея Звягинцева", "Тимура Бекмамбетова"
  ],
  CELEBRITY: [
    "Том Круз", "Брэд Питт", "Анджелина Джоли", "Дженнифер Лоуренс", 
    "Роберт Дауни-младший", "Скарлетт Йоханссон", "Леонардо Ди Каприо", 
    "Эмма Стоун", "Джонни Депп", "Мерил Стрип", "Дуэйн Джонсон", 
    "Шарлиз Терон", "Константин Хабенский", "Данила Козловский"
  ],
  MOVIE: [
    "«Мстители»", "«Звездные войны»", "«Гарри Поттер»", "«Матрица»", 
    "«Титаник»", "«Аватар»", "«Начало»", "«Интерстеллар»", "«Джокер»", 
    "«Властелин колец»", "«Бриллиантовая рука»", "«Ирония судьбы»", 
    "«Движение вверх»", "«Т-34»", "«Холоп»", "«Лед»"
  ],
  BAND: [
    "Coldplay", "Imagine Dragons", "Maroon 5", "Twenty One Pilots", 
    "BTS", "Metallica", "Linkin Park", "Queen", "AC/DC", "Nirvana", 
    "Би-2", "Ленинград", "Мумий Тролль", "Земфира", "Сплин", "ДДТ"
  ],
  TIME: [
    "3 лет брака", "5 лет отношений", "7 лет совместной жизни", 
    "10 лет брака", "2 лет романа", "года отношений", "6 месяцев брака", 
    "4 лет совместной жизни", "8 лет брака", "9 месяцев отношений"
  ],
  SHOW: [
    "«Игры престолов»", "«Друзья»", "«Очень странные дела»", "«Черное зеркало»", 
    "«Ходячие мертвецы»", "«Во все тяжкие»", "«Шерлок»", "«Мандалорец»", 
    "«Бумажный дом»", "«Ведьмак»", "«Кухня»", "«Физрук»", "«Полицейский с Рублевки»", 
    "«Мажор»", "«Содержанки»", "«Метод»"
  ],
  DATE: [
    "в марте", "в апреле", "в мае", "в июне", "в июле", "в августе", 
    "в сентябре", "в октябре", "в ноябре", "в декабре", "в январе", 
    "в феврале", "этой осенью", "этой зимой", "этой весной", "этим летом", 
    "в следующем году", "через месяц"
  ],
  FESTIVAL: [
    "Каннском кинофестивале", "Берлинском кинофестивале", "Венецианском кинофестивале", 
    "фестивале «Кинотавр»", "фестивале «Московский кинофестиваль»", 
    "фестивале «Сандэнс»", "фестивале «Трайбека»", "фестивале «Торонто»", 
    "фестивале «Сочи»", "фестивале «Кинотавр»"
  ],
  YEAR: [
    "2023 год", "2024 год", "2025 год", "следующий год", "этот год", 
    "будущий сезон", "грядущий сезон", "новый сезон"
  ],
  EVENT: [
    "Оскар", "Грэмми", "Золотой глобус", "Эмми", "BAFTA", "MTV Movie Awards", 
    "Каннский кинофестиваль", "Берлинский кинофестиваль", "Венецианский кинофестиваль", 
    "Кинотавр", "Московский кинофестиваль", "Ника", "Золотой орел"
  ]
};

// Функция для замены плейсхолдеров в шаблоне
const replacePlaceholders = (template) => {
  // Регулярное выражение для поиска плейсхолдеров в формате [PLACEHOLDER]
  const placeholderRegex = /\[([A-Z_]+)\]/g;
  
  // Заменяем все найденные плейсхолдеры на случайные значения из соответствующих словарей
  return template.replace(placeholderRegex, (match, placeholder) => {
    // Проверяем, существует ли словарь для данного плейсхолдера
    if (dictionaries[placeholder]) {
      const dictionary = dictionaries[placeholder];
      // Выбираем случайное значение из словаря
      return dictionary[Math.floor(Math.random() * dictionary.length)];
    }
    // Если словарь не найден, возвращаем исходный плейсхолдер
    return match;
  });
};

// Основная функция для генерации заголовка новости
export const generateNewsTitle = (category) => {
  // Если категория не указана или не существует, выбираем случайную
  const categories = Object.keys(titleTemplates);
  const selectedCategory = category && categories.includes(category) 
    ? category 
    : categories[Math.floor(Math.random() * categories.length)];
  
  // Получаем шаблоны для выбранной категории
  const templates = titleTemplates[selectedCategory];
  
  // Выбираем случайный шаблон
  const template = templates[Math.floor(Math.random() * templates.length)];
  
  // Заменяем плейсхолдеры на случайные значения
  return replacePlaceholders(template);
}; 